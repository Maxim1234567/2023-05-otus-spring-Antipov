<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Edit person</title>
    <style type="text/css">
        body {
            padding: 50px;
        }

        label {
            display: inline-block;
            width: 100px;
        }

        input:read-only {
            background: lightgray;
        }

        .row {
            margin-top: 10px;
        }
    </style>
    <script>
        function createGenre() {
            const genreInput = document.getElementById("genre-input")
            const genre = {genre: genreInput.value}
            fetch("/api/genre", {
                method: 'POST',
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(genre)
            }).then(
                window.location.replace("/genre")
            );
        }
    </script>
</head>
    <h3>Genre:</h3>

    <form id="create-genre" action="create-genre.html">
        <div class="row">
            <label for="genre-input">Genre: </label>
            <input id="genre-input" name="genre" type="text" value="genre">
        </div>

        <div class="row">
            <button type="button" onclick="createGenre()">Save</button>
            <a href="list-genre.html" th:href="@{/genre}"><button type="button">Cancel</button></a>
        </div>
    </form>
</html>